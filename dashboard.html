<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Painel Central Borges</title>

  <!-- Firebase v8 -->
  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js"></script>

  <!-- Fonte -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap" rel="stylesheet">

  <!-- CSS -->
  <link rel="stylesheet" href="dashboard.css">
</head>

<body>

<header>
  <h1>ðŸ§  Painel Central Borges</h1>

  <div id="auth-area">
    <button id="loginBtn" onclick="loginGoogle()">Entrar com Google</button>
    <button id="logoutBtn" onclick="logout()" style="display:none;">Sair</button>
  </div>
</header>

<main id="app" style="display:none;">

  <!-- DASHBOARD -->
  <section class="cards">

    <div class="card" onclick="location.href='life.html'">
      <span>ðŸ§ </span>
      <div class="card-title">Vida</div>
    </div>

    <div class="card" onclick="location.href='index.html'">
      <span>ðŸ’°</span>
      <div class="card-title">Financeiro</div>
    </div>

    <div class="card">
      <span>ðŸš€</span>
      <div class="card-title">Projetos</div>
    </div>

    <div class="card" onclick="abrirChecklists()">
      <span>âœ…</span>
      <div class="card-title">Checklists</div>
    </div>

    <div class="card">
      <span>ðŸ“¦</span>
      <div class="card-title">Arquivo Central</div>
    </div>

  </section>

  <!-- CHECKLISTS -->
  <section id="checklists-section" style="display:none; margin-top:40px;">
    <h2>âœ… Meus Checklists</h2>

    <div id="checklists-container"></div>

    <div class="novo-item">
      <input id="novo-item-texto" placeholder="Novo item">
      <select id="novo-item-prioridade">
        <option value="none">Sem prioridade</option>
        <option value="high">Urgente</option>
        <option value="medium">MÃ©dio</option>
        <option value="low">Baixo</option>
      </select>
      <button onclick="criarItem()">Adicionar</button>
    </div>
  </section>

</main>

<script>
  // Firebase config (APP EXISTENTE)
  const firebaseConfig = {
    apiKey: "AIzaSyBnOexg7KChfV2OsKBCDCuMCRT2xcAwKx8",
    authDomain: "painel-financeiro-borges.firebaseapp.com",
    projectId: "painel-financeiro-borges",
    storageBucket: "painel-financeiro-borges.firebasestorage.app",
    messagingSenderId: "354997627208",
    appId: "1:354997627208:web:90604d0a7dcd45b6e4eb7d"
  };

  firebase.initializeApp(firebaseConfig);

  const auth = firebase.auth();
  const db = firebase.firestore();

  // LOGIN GOOGLE
  function loginGoogle() {
    const provider = new firebase.auth.GoogleAuthProvider();
    auth.signInWithPopup(provider);
  }

  function logout() {
    auth.signOut();
  }

  // CONTROLE DE SESSÃƒO
  auth.onAuthStateChanged(user => {
    if (user) {
      document.getElementById("loginBtn").style.display = "none";
      document.getElementById("logoutBtn").style.display = "inline-block";
      document.getElementById("app").style.display = "block";
    } else {
      document.getElementById("loginBtn").style.display = "inline-block";
      document.getElementById("logoutBtn").style.display = "none";
      document.getElementById("app").style.display = "none";
    }
  });

  // NAVEGAÃ‡ÃƒO
  function abrirChecklists() {
    document.querySelector(".cards").style.display = "none";
    document.getElementById("checklists-section").style.display = "block";
  }
</script>

<!-- Checklist -->
<script src="js/checklist.js"></script>

</body>
</html>
